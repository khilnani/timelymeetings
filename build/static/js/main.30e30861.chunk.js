(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{24:function(e,t,n){},26:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n.n(o),r=n(18),i=n.n(r),c=(n(24),n(0)),s=n.n(c),l=n(2),u=n(7),d=n(10),p=n(5),g=n(11),m=n(13);n(26);function h(e,t){return console.log("addMinutes"),new Date(e.getTime()+6e4*t)}function f(){console.log("getUserOptions");var e=void 0,t=(e=document.getElementById("meetingDuration")).options[e.selectedIndex].value;e=document.getElementById("meetingSlot");var n=-1;console.log("select.selectedIndex",e.selectedIndex),e.selectedIndex>-1&&(n=e.options[e.selectedIndex].value);var o={meetingDuration:t,meetingSlot:n,meetingSpeedy:document.getElementById("meetingSpeedy").checked};return console.log("getUserOptions.o",o),o}function b(){console.log("saveDurationToLocalStorage");var e=f();localStorage.setItem("meetingDuration",e.meetingDuration)}function v(){console.log("saveSlotToLocalStorage");var e=f();localStorage.setItem("meetingSlot",e.meetingSlot)}function x(){console.log("saveSpeedyToLocalStorage");var e=f();localStorage.setItem("meetingSpeedy",e.meetingSpeedy)}function j(e){console.log("updateFromLocalStorage");var t=localStorage.getItem("meetingDuration");console.log("lc.meetingDuration",t,typeof t);var n=localStorage.getItem("meetingSlot");console.log("lc.meetingSlot",n,typeof n);var o=localStorage.getItem("meetingSpeedy");console.log("lc.meetingSpeedy",o,typeof o),t&&(document.getElementById("meetingDuration").value=t,e()),function(e,t){console.log("selectHasValue");var n=document.getElementById(e);return null!==n&&n.innerHTML.indexOf('value="'+t+'"')>-1}("meetingSlot",n)&&(document.getElementById("meetingSlot").value=n),o&&(console.log("meetingSpeedy.checked","true"===o),document.getElementById("meetingSpeedy").checked="true"===o)}var y=n(12),S=n(6);function O(){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("checkCapacitorNotificationsAvailability"),e.prev=1,e.next=4,y.a.isPluginAvailable("LocalNotifications");case 4:if(t=e.sent,console.log("isCapacitorPluginAvailable?",t),!t){e.next=24;break}return e.next=9,S.a.checkPermissions();case 9:if("granted"!==e.sent.display){e.next=14;break}return e.abrupt("return",!0);case 14:return e.next=16,S.a.requestPermissions();case 16:if("granted"!==e.sent.display){e.next=21;break}return e.abrupt("return",!0);case 21:case 24:return e.abrupt("return",!1);case 22:e.next=25;break;case 25:e.next=31;break;case 27:return e.prev=27,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 31:case"end":return e.stop()}}),e,null,[[1,27]])})))).apply(this,arguments)}function w(e,t){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(s.a.mark((function e(t,n){var o,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sendCapacitorNotification",t,n),e.next=3,O();case 3:if(o=e.sent,console.log("isCapacitorNotificationsAvailable?",o),!o){e.next=18;break}return e.prev=6,e.next=9,S.a.schedule({notifications:[{title:"TimelyMeetings",body:t,id:(new Date).getTime(),schedule:{at:n},sound:null,attachments:null,actionTypeId:"",extra:null}]});case 9:return a=e.sent,console.log("Success",a),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(6),console.error(e.t0),e.abrupt("return",!1);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function D(){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("clearCapacitorNotifications"),e.next=3,S.a.getPending();case 3:if(t=e.sent,n=t.notifications,console.log("Pending Capacitor Notifications",n),!(n&&n.length>0)){e.next=10;break}return e.next=9,S.a.cancel(t);case 9:console.log("Cleared Capacitor Notifications",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return I.apply(this,arguments)}function I(){return(I=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("clearNotifications"),e.next=3,D();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(s.a.mark((function e(t){var n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sendNotification",t,"NOW"),n=new Date(Date.now()+1e3),e.next=4,w(t,n);case 4:o=e.sent,console.log("Capacitor Notifications Sent?",o),o||(console.log("Attempting Default Notification."),N(t,n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(s.a.mark((function e(t,n){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("scheduleNotification",t,n),e.next=3,w(t,n);case 3:return o=e.sent,console.log("Capacitor Notifications scheduled?",o),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=n(1),A=void 0,q=!1,z=!1,J="Your meeting will end within 5 minutes",U="Your meeting has ended",V="Timely Meetings | Meeting Countdown Timer",W=function(e){Object(g.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).state={data:[]},e.onDurationChange=e.onDurationChange.bind(Object(p.a)(e)),e.onSpeedyChange=e.onSpeedyChange.bind(Object(p.a)(e)),e.onSlotChange=e.onSlotChange.bind(Object(p.a)(e)),e}return Object(d.a)(n,[{key:"initializeClock",value:function(){var e=Object(l.a)(s.a.mark((function e(t,n){var o,a,r,i,c,u,d,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=function(){return(p=Object(l.a)(s.a.mark((function e(){var t,o,a,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u(n),console.log("updateClock"),!(t.total>3e5)){e.next=6;break}document.body.style.backgroundColor="#00ECB9",e.next=11;break;case 6:if(document.body.style.backgroundColor="#FBF719",q){e.next=11;break}return q=!0,e.next=11,F(J);case 11:if(!(t.total<=0)){e.next=18;break}if(clearInterval(A),document.body.style.backgroundColor="#FFFFFF",z){e.next=18;break}return z=!0,e.next=18,F(U);case 18:o=("0"+t.hours).slice(-2),a=("0"+t.minutes).slice(-2),l=("0"+t.seconds).slice(-2),r.innerHTML=o,i.innerHTML=a,c.innerHTML=l,document&&document.title&&(document.title=o+":"+a+":"+l+" - "+V);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)},d=function(){return p.apply(this,arguments)},u=function(e){var t=Date.parse(e)-Date.parse(new Date),n=Math.floor(t/1e3%60),o=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:a,minutes:o,seconds:n}},console.log("initializeClock"),clearInterval(A),q=!1,z=!1,e.next=9,M();case 9:return o=new Date(Date.parse(n)-3e5),e.next=12,E(J,o);case 12:if(!e.sent){e.next=14;break}q=!0;case 14:return e.next=16,E(U,n);case 16:if(!e.sent){e.next=18;break}z=!0;case 18:return console.log("notificationWarningSentOrScheduled",q),console.log("notificationFinalSentOrScheduled",z),a=document.getElementById(t),r=a.querySelector(".hours"),i=a.querySelector(".minutes"),c=a.querySelector(".seconds"),e.next=26,d();case 26:A=setInterval(d,1e3);case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateMeetingTime",value:function(e,t){console.log("updateMeetingTime");var n={hour:"numeric",minute:"2-digit"},o=e.toLocaleTimeString("en-us",n),a=t.toLocaleTimeString("en-us",n);document.getElementById("meetingTime").textContent=o+" to "+a}},{key:"updateStartTimeOptions",value:function(){console.log("updateStartTimeOptions");var e=function(){var e;return console.log("getMeetingDuration"),(e=document.getElementById("meetingDuration")).options[e.selectedIndex].value}(),t=function(e,t){console.log("getTimeslots");var n=new Date(Date.now());n.setHours(0,0,0,0);var o=new Date(Date.now());o.setHours(23,59,59,99);for(var a=[];n<o;){var r=h(n,15),i=e>=n&&e<r;if(a.push({label:n.toLocaleTimeString(),value:n.toString(),selected:i}),i){for(var c=0;c<4;c++)a.push({label:r.toLocaleTimeString(),value:r.toString(),selected:!1}),r=h(r,15);break}n=r}var s=Math.ceil(t/15)+4;return console.log("slotCount",s),a=a.slice(a.length-s),console.log("slots",a),a}(function(){console.log("getNow");var e=new Date(Date.now()),t=e.toLocaleTimeString(),n={hours:e.getHours(),mins:e.getMinutes(),label:t,date:e};return console.log(n),n}().date,e),n=document.getElementById("meetingSlot");n.options.length=0;var o=void 0;for(var a in t)n.options[n.options.length]=new Option(t[a].label,t[a].value),t[a].selected&&(o=t[a].value);n.value=o}},{key:"updateCountdown",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,o,a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updateCountdown"),console.log("saveToLocalStorage"),b(),v(),x(),t=f(),n=t.meetingDuration,o=t.meetingSlot,a=t.meetingSpeedy,r=new Date(Date.parse(o)),console.log("meetingStartTime",r),!0!==a&&"true"!==a||(n-=5),i=new Date(Date.parse(r)+60*n*1e3),this.updateMeetingTime(r,i),e.next=13,this.initializeClock("clockdiv",i);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onDurationChange",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onDurationChange"),b(),this.updateStartTimeOptions(),j(this.updateStartTimeOptions),e.next=6,this.updateCountdown();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSpeedyChange",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onSpeedyChange"),x(),e.next=4,this.updateCountdown();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSlotChange",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onSlotChange"),v(),e.next=4,this.updateCountdown();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("componentDidMount"),this.updateStartTimeOptions(),j(this.updateStartTimeOptions),e.next=5,this.updateCountdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(P.jsxs)("div",{className:"content",children:[Object(P.jsx)("h1",{children:"Meeting Countdown Timer"}),Object(P.jsx)("p",{className:"meetingTime",children:Object(P.jsx)("span",{id:"meetingTime"})}),Object(P.jsxs)("div",{id:"clockdiv",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{className:"hours"}),Object(P.jsx)("div",{className:"clocktext",children:"Hours"})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{className:"minutes"}),Object(P.jsx)("div",{className:"clocktext",children:"Minutes"})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{className:"seconds"}),Object(P.jsx)("div",{className:"clocktext",children:"Seconds"})]})]}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("p",{children:[Object(P.jsx)("label",{className:"label",htmlFor:"meetingDuration",children:"Meeting duration:"}),Object(P.jsxs)("select",{className:"select",name:"meetingDuration",id:"meetingDuration",defaultValue:"30",onChange:this.onDurationChange,children:[Object(P.jsx)("option",{value:"15",children:"15 mins"}),Object(P.jsx)("option",{value:"30",children:"30 mins"}),Object(P.jsx)("option",{value:"45",children:"45 mins"}),Object(P.jsx)("option",{value:"60",children:"1 hour"}),Object(P.jsx)("option",{value:"90",children:"1.5 hours"}),Object(P.jsx)("option",{value:"120",children:"2 hours"}),Object(P.jsx)("option",{value:"150",children:"2.5 hours"}),Object(P.jsx)("option",{value:"180",children:"3 hours"})]})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("label",{className:"label",htmlFor:"meetingSpeedy",children:"End 5 minutes early?"}),Object(P.jsx)("input",{className:"checkbox",type:"checkbox",id:"meetingSpeedy",name:"meetingSpeedy",onChange:this.onSpeedyChange})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("label",{className:"label",htmlFor:"meetingSlot",children:"Meeting start time: "}),Object(P.jsx)("select",{className:"select",name:"meetingSlot",id:"meetingSlot",onChange:this.onSlotChange,children:Object(P.jsx)("option",{value:"-1",children:"Loading ..."})})]})]}),Object(P.jsx)("p",{children:Object(P.jsxs)("span",{className:"tinyText",children:[Object(P.jsx)("a",{href:"https://github.com/khilnani/timelymeetings.com",target:"_blank",rel:"noreferrer",children:"Github"})," | ",Object(P.jsx)("a",{href:"https://khilnani.org",target:"_blank",children:"Nik Khilnani"})]})})]})}}]),n}(o.Component),Y=W,_=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,30)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),o(e),a(e),r(e),i(e)}))};i.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(Y,{})}),document.getElementById("root")),_()}},[[29,1,2]]]);
//# sourceMappingURL=main.30e30861.chunk.js.map