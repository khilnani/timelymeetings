{"version":3,"sources":["Utils.js","State.js","Notifications.js","App.js","reportWebVitals.js","index.js"],"names":["addMinutes","date","minutes","console","log","Date","getTime","getUserOptions","select","undefined","meetingDuration","document","getElementById","options","selectedIndex","value","meetingSlot","o","checked","saveDurationToLocalStorage","localStorage","setItem","saveSlotToLocalStorage","saveSpeedyToLocalStorage","meetingSpeedy","updateFromLocalStorage","updateStartTimeOptions","getItem","obj","innerHTML","indexOf","Utils","checkCapacitorNotificationsAvailability","a","Capacitor","isPluginAvailable","isCapacitorPluginAvailable","LocalNotifications","checkPermissions","display","requestPermissions","alert","sendCapacitorNotification","message","when","isCapacitorNotificationsAvailable","schedule","notifications","title","body","id","at","sound","attachments","actionTypeId","extra","success","clearCapacitorNotifications","getPending","pending","cancel","sendDefaultNotification","clearScheduledNotifications","sendNotification","scheduleNotification","sendTestNotification","now","toLocaleTimeString","timeInterval","notificationWarningSent","notificationFinalSent","App","state","data","Notifications","bind","onDurationChange","onSpeedyChange","onSlotChange","endtime","getTimeRemaining","updateClock","t","total","style","backgroundColor","clearInterval","hoursSpan","hours","slice","minutesSpan","secondsSpan","seconds","parse","Math","floor","days","clock","querySelector","setInterval","startTime","endTime","hour","minute","startTimeStr","endTimeStr","textContent","State","slots","duration","current","setHours","midnight","next","selected","push","label","toString","i","slotCount","ceil","length","getHours","mins","getMinutes","index","Option","meetingStartTime","meetingEndTime","this","updateMeetingTime","initializeClock","updateCountdown","className","htmlFor","name","defaultValue","onChange","type","onClick","href","target","rel","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.bed0d4fc.chunk.js","sourcesContent":["//-------------------------------\n\nexport function selectHasValue(select, value) {\n  console.log(\"selectHasValue\");\n\n  let obj = document.getElementById(select);\n  console.log(obj);\n\n  if (obj !== null) {\n      return (obj.innerHTML.indexOf('value=\"' + value + '\"') > -1);\n  } else {\n      return false;\n  }\n}\n\n//-------------------------------\n\nexport function getNow() {\n  console.log('getNow');\n\n  let date = new Date(Date.now());\n  //date.setHours(13, 44, 0, 0);\n  let label = date.toLocaleTimeString();\n  let hours = date.getHours();\n  let mins = date.getMinutes();\n  let o = {\n    hours,\n    mins,\n    label,\n    date,\n  }\n  console.log(o)\n  return o;\n}\n\n//-------------------------------\n\nexport function addMinutes(date, minutes) {\n  console.log(\"addMinutes\");\n    return new Date(date.getTime() + minutes*60000);\n}\n\n//-------------------------------\n\nexport function getTimeslots(now, duration) {\n  console.log('getTimeslots');\n\n  let increment = 15;\n\n  let current = new Date(Date.now());\n  current.setHours(0, 0, 0, 0);\n  const midnight = new Date(Date.now());\n  midnight.setHours(23, 59, 59, 99);\n\n  let slots = [];\n\n  while  (current < midnight) {\n    let next = addMinutes(current, increment);\n    let selected = (now >= current && now < next)\n    slots.push({\n      label: current.toLocaleTimeString(),\n      value: current.toString(),\n      selected,\n    });\n    \n    if (selected) {\n      // Add 4 extra slots in case folks want to set up for a meeting up to an hour early\n      for (let i=0; i < 4; i++) {\n        slots.push({\n          label: next.toLocaleTimeString(),\n          value: next.toString(),\n          selected: false,\n        });\n        next = addMinutes(next, increment);\n      }\n      break;\n    }\n\n    current = next;    \n  }\n\n  // don't forget the extra 4\n  let slotCount = Math.ceil(duration / increment) + 4;\n  console.log('slotCount', slotCount);\n  \n  slots = slots.slice( slots.length - slotCount);\n  console.log('slots', slots);\n\n  return slots;\n}\n\n//-------------------------------\n  \n    \n  ","\nimport * as Utils from './Utils'\n\n//-------------------------------\n\nexport function getMeetingDuration() {\n  console.log(\"getMeetingDuration\");\n\n  let select = undefined;  \n  select = document.getElementById(\"meetingDuration\");\n  let meetingDuration = select.options[select.selectedIndex].value;\n  return meetingDuration;\n}\n\nexport function getUserOptions () {\n  console.log(\"getUserOptions\");\n\n  let select = undefined;  \n  select = document.getElementById(\"meetingDuration\");\n\n  let meetingDuration = select.options[select.selectedIndex].value;\n  select = document.getElementById(\"meetingSlot\");\n\n  let meetingSlot = -1;\n  console.log('select.selectedIndex', select.selectedIndex);\n  if (select.selectedIndex > -1) \n  meetingSlot = select.options[select.selectedIndex].value;\n\n  const meetingSpeedy = document.getElementById(\"meetingSpeedy\").checked;\n\n  let o ={\n    \"meetingDuration\": meetingDuration,\n    \"meetingSlot\": meetingSlot,\n    \"meetingSpeedy\": meetingSpeedy,\n  }\n  console.log(\"getUserOptions.o\", o);\n  return o;\n}\n\nexport function saveDurationToLocalStorage() {\n  console.log(\"saveDurationToLocalStorage\");\n\n  let o = getUserOptions(); \n  localStorage.setItem('meetingDuration', o.meetingDuration)\n}\n\nexport function saveSlotToLocalStorage() {\n  console.log(\"saveSlotToLocalStorage\");\n\n  let o = getUserOptions(); \n  localStorage.setItem('meetingSlot', o.meetingSlot)\n}\n\n\nexport function saveSpeedyToLocalStorage() {\n  console.log(\"saveSpeedyToLocalStorage\");\n\n  let o = getUserOptions(); \n  localStorage.setItem('meetingSpeedy', o.meetingSpeedy)\n}\n\nexport function saveToLocalStorage() {\n  console.log(\"saveToLocalStorage\");\n\n  saveDurationToLocalStorage();\n  saveSlotToLocalStorage();\n  saveSpeedyToLocalStorage();\n}\n\n\nexport function updateFromLocalStorage(updateStartTimeOptions) {\n  console.log(\"updateFromLocalStorage\")\n\n  let meetingDuration = localStorage.getItem('meetingDuration')\n  console.log('lc.meetingDuration', meetingDuration, typeof(meetingDuration));\n  \n  let meetingSlot = localStorage.getItem('meetingSlot')\n  console.log('lc.meetingSlot', meetingSlot, typeof(meetingSlot));\n\n  let meetingSpeedy = localStorage.getItem('meetingSpeedy')\n  console.log('lc.meetingSpeedy', meetingSpeedy, typeof(meetingSpeedy));\n\n  if (meetingDuration) {\n    document.getElementById(\"meetingDuration\").value = meetingDuration;\n    // Make sure the options are correct before trying to preselect the selected slot\n      updateStartTimeOptions();\n  }\n  \n  if (Utils.selectHasValue(\"meetingSlot\", meetingSlot))  \n    document.getElementById(\"meetingSlot\").value = meetingSlot;\n  \n  if (meetingSpeedy) {\n    console.log('meetingSpeedy.checked', (meetingSpeedy === \"true\"))\n    document.getElementById(\"meetingSpeedy\").checked = (meetingSpeedy === \"true\");\n  }\n}\n\n  //-------------------------------","import { Capacitor } from '@capacitor/core';\nimport { LocalNotifications } from '@capacitor/local-notifications';\n\n\nasync function checkCapacitorNotificationsAvailability () {\n  console.log('checkCapacitorNotificationsAvailability');\n\n  try {\n    let isCapacitorPluginAvailable = await Capacitor.isPluginAvailable('LocalNotifications');\n    console.log('isCapacitorPluginAvailable?', isCapacitorPluginAvailable);\n    \n    if ( isCapacitorPluginAvailable ) {\n      let p = await LocalNotifications.checkPermissions()\n      if (p.display === \"granted\") {\n        return true;\n      } else {\n        let a = await LocalNotifications.requestPermissions()\n        if (a.display === \"granted\") {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      return false;\n    }\n  } catch (error) {\n    alert(error);\n    return false;\n  }\n}\n\nasync function sendCapacitorNotification(message, when) {\n  console.log('sendCapacitorNotification', message, when);\n\n  let isCapacitorNotificationsAvailable = await checkCapacitorNotificationsAvailability();\n  console.log('isCapacitorNotificationsAvailable?', isCapacitorNotificationsAvailable);\n\n  if(isCapacitorNotificationsAvailable) {\n    try {\n      let success = await LocalNotifications.schedule({\n        notifications: [\n          {\n            title: \"TimelyMeetings\",\n            body: message,\n            id: new Date().getTime(),\n            schedule: { at: when },\n            sound: null,\n            attachments: null,\n            actionTypeId: \"\",\n            extra: null\n          }\n        ]\n      });\n      console.log('Success', success);\n      return true; \n    } catch (error) {\n      alert(error);\n      return false;\n    }\n  }\n  return false;\n}\n\nasync function clearCapacitorNotifications() {\n  console.log('clearCapacitorNotifications');\n\n  let pending = await LocalNotifications.getPending();\n  let notifications = pending.notifications;\n  console.log(\"Pending Capacitor Notifications\", notifications);\n\n  await LocalNotifications.cancel(pending);  \n  console.log(\"Cleared Capacitor Notifications\", notifications);  \n\n}\n\n///////////////////////////////////////////////////////////////\n\nasync function sendDefaultNotification(message, when) {\n\n  alert(message);\n\n/*let opts = {\n  requireInteraction: true\n}\n\n  // Let's check if the browser supports notifications\n  if (!(\"Notification\" in window)) {\n    console.log('Browser Notifications not supported.');\n    alert(message);\n  }\n  // Let's check whether notification permissions have already been granted\n  else if (Notification.permission === \"granted\") {\n    // If it's okay let's create a notification\n    console.log('Browser Notifications already granted, attempting to send.');\n    var notification = new Notification(message, opts);\n  }\n\n  // Otherwise, we need to ask the user for permission\n  else if (Notification.permission !== \"denied\") {\n    console.log('Browser Notifications permissions being re-asked.');\n    Notification.requestPermission().then(function(permission) {\n      // If the user accepts, let's create a notification\n      if (permission === \"granted\") {\n        console.log('Browser Notifications granted after being initially denied, attempting to send.');\n        var notification = new Notification(message, opts);\n      } else {\n        console.log('Browser Notifications denied after ask.');\n        alert(message);\n      }\n    });\n  } else {\n    console.log('Browser Notifications denied.');\n    alert(message);\n  }\n  */\n}\n\n///////////////////////////////////////////////////////////////\n\nexport async function clearScheduledNotifications() {\n  console.log('clearNotifications');\n  await clearCapacitorNotifications();\n}\n\nexport async function sendNotification(message) {\n  console.log('sendNotification', message, 'NOW');\n\n  let when = new Date();\n  let success = await sendCapacitorNotification(message, when);\n  console.log('Capacitor Notifications Sent?', success);\n\n  if (!success) {\n    console.log('Attempting Default Notification.');\n    sendDefaultNotification(message, when);\n  }\n}\n\nexport async function scheduleNotification(message, when) {\n  console.log('scheduleNotification', message, when);\n\n  let success = await sendCapacitorNotification(message, when);\n  console.log('Capacitor Notifications scheduled?', success);\n\n  return success;\n}\n\nexport async function sendTestNotification() {\n  console.log('sendTesteNotification (5s)');\n  let when = new Date(Date.now() + 1000 * 5);\n  let message = when.toLocaleTimeString();\n  await scheduleNotification(message, when);\n}","import React, { Component } from \"react\";\n\nimport './App.css';\n\nimport * as State from './State'\nimport * as Utils from './Utils'\nimport * as Notifications from './Notifications'\n\nlet timeInterval = undefined;\nlet notificationWarningSent = false\nlet notificationFinalSent = false\n\nclass App extends Component {\n\n  //-------------------------------\n\n  constructor() {\n    super();\n    this.state = { data: [] };\n\n    this.clearScheduledNotifications = Notifications.clearScheduledNotifications.bind(this);\n    this.sendTestNotification = Notifications.sendTestNotification.bind(this);\n\n    this.onDurationChange = this.onDurationChange.bind(this);\n    this.onSpeedyChange = this.onSpeedyChange.bind(this);\n    this.onSlotChange = this.onSlotChange.bind(this);\n\n  }\n\n  //-------------------------------\n  \n  // Based on https://www.sitepoint.com/build-javascript-countdown-timer-no-dependencies/\n  // CSS from https://stackoverflow.com/questions/7082257/css-how-to-skin-a-select-box-with-css\n  \n\n  \n  //-------------------------------\n  \n  async initializeClock(id, endtime) {\n    console.log('initializeClock');\n\n    clearInterval(timeInterval);\n    notificationWarningSent = false;\n    notificationFinalSent = false;\n  \n    const clock = document.getElementById(id);\n    const hoursSpan = clock.querySelector(\".hours\");\n    const minutesSpan = clock.querySelector(\".minutes\");\n    const secondsSpan = clock.querySelector(\".seconds\");\n\n    function getTimeRemaining(endtime) {\n      const total = Date.parse(endtime) - Date.parse(new Date());\n      const seconds = Math.floor((total / 1000) % 60);\n      const minutes = Math.floor((total / 1000 / 60) % 60);\n      const hours = Math.floor((total / (1000 * 60 * 60)) % 24);\n      const days = Math.floor(total / (1000 * 60 * 60 * 24));\n    \n      return {\n        total,\n        days,\n        hours,\n        minutes,\n        seconds\n      };\n    }\n  \n    async function updateClock() {\n      const t = getTimeRemaining(endtime);\n      console.log(\"updateClock\");\n      //console.log(\"updateClock\", t.total);\n  \n      if (t.total > 5 * 60 * 1000) {\n        document.body.style.backgroundColor = \"#00ECB9\"; // default\n      } else {\n        document.body.style.backgroundColor = \"#FBF719\"; // yellow\n        if (!notificationWarningSent) {\n          notificationWarningSent = true\n          await Notifications.sendNotification('Your meeting will end within 5 minutes');\n        }\n      }\n  \n      if (t.total <= 0) {\n        clearInterval(timeInterval);\n        document.body.style.backgroundColor = \"#FFFFFF\"; // white\n        if (!notificationFinalSent) {\n          notificationFinalSent = true\n          await Notifications.sendNotification('Your meeting has ended');\n        }\n      }\n  \n      hoursSpan.innerHTML = (\"0\" + t.hours).slice(-2);\n      minutesSpan.innerHTML = (\"0\" + t.minutes).slice(-2);\n      secondsSpan.innerHTML = (\"0\" + t.seconds).slice(-2);\n    }\n  \n    await updateClock();\n  \n    timeInterval = setInterval(updateClock, 1000);\n  }\n\n  //-------------------------------\n\n  updateMeetingTime (startTime, endTime) {\n    console.log('updateMeetingTime');\n  \n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleTimeString\n    let options = {\n      hour: \"numeric\",\n      minute: \"2-digit\"\n    };\n    const startTimeStr = startTime.toLocaleTimeString(\"en-us\", options);\n    let endTimeStr = endTime.toLocaleTimeString(\"en-us\", options);\n  \n    document.getElementById(\"meetingTime\").textContent = startTimeStr + \" to \" + endTimeStr\n  }\n  \n  //-------------------------------\n  \n  updateStartTimeOptions() {\n    console.log('updateStartTimeOptions');\n  \n    let meetingDuration = State.getMeetingDuration();\n    let now = Utils.getNow();\n    let slots = Utils.getTimeslots(now.date, meetingDuration);\n  \n    let select = document.getElementById(\"meetingSlot\");\n    select.options.length = 0;\n  \n    let selected = undefined;\n  \n    for(let index in slots) {\n      select.options[select.options.length] = new Option(slots[index].label, slots[index].value);\n      if (slots[index].selected)\n        selected = slots[index].value;\n    }    \n    select.value = selected;\n  }\n  \n  //-------------------------------\n  \n  async updateCountdown () {\n    console.log('updateCountdown');\n  \n    State.saveToLocalStorage();\n  \n    let o = State.getUserOptions();\n    let meetingDuration = o.meetingDuration;\n    let meetingSlot = o.meetingSlot;\n    let meetingSpeedy = o.meetingSpeedy;\n  \n    let meetingStartTime = new Date(Date.parse(meetingSlot));\n    console.log('meetingStartTime', meetingStartTime);\n  \n  \n    if (meetingSpeedy === true || meetingSpeedy === \"true\") {\n      meetingDuration = meetingDuration - 5;\n    }\n  \n    let meetingEndTime = new Date(Date.parse(meetingStartTime) + meetingDuration * 60 * 1000);\n  \n    this.updateMeetingTime(meetingStartTime, meetingEndTime);\n  \n    await this.initializeClock(\"clockdiv\", meetingEndTime);\n  \n  }\n  \n  //-------------------------------\n\n  async onDurationChange() {\n    console.log(\"onDurationChange\");\n\n    State.saveDurationToLocalStorage();\n    this.updateStartTimeOptions();\n    State.updateFromLocalStorage(this.updateStartTimeOptions);\n    await this.updateCountdown();\n  }\n\n  async onSpeedyChange() {\n    console.log(\"onSpeedyChange\");\n\n    State.saveSpeedyToLocalStorage();\n    await this.updateCountdown();\n  }\n\n  async onSlotChange() {\n    console.log(\"onSlotChange\");\n\n    State.saveSlotToLocalStorage();\n    await this.updateCountdown();\n  }\n\n  //-------------------------------\n\n  async componentDidMount() {\n    console.log(\"componentDidMount\");\n\n    this.updateStartTimeOptions();\n    State.updateFromLocalStorage(this.updateStartTimeOptions);\n    await this.updateCountdown();\n  }\n\n  //-------------------------------\n  //-------------------------------\n\n  render() {\n    return (\n        <div className=\"content\">\n\n          <h1>Meeting Countdown Timer</h1>\n\n          <p className=\"meetingTime\"><span id=\"meetingTime\"></span></p>\n\n          <div id=\"clockdiv\">\n            <div>\n              <span className=\"hours\"></span>\n              <div className=\"clocktext\">Hours</div>\n            </div>\n            <div>\n              <span className=\"minutes\"></span>\n              <div className=\"clocktext\">Minutes</div>\n            </div>\n            <div>\n              <span className=\"seconds\"></span>\n              <div className=\"clocktext\">Seconds</div>\n            </div>\n          </div>\n\n          <div>\n\n            <p>\n              <label className=\"label\" htmlFor=\"meetingDuration\">Meeting duration:</label>\n              <select className=\"select\" name=\"meetingDuration\" id=\"meetingDuration\" defaultValue=\"30\"\n                onChange={this.onDurationChange}>\n                <option value=\"15\">15 mins</option>\n                <option value=\"30\">30 mins</option>\n                <option value=\"45\">45 mins</option>\n                <option value=\"60\">1 hour</option>\n                <option value=\"90\">1.5 hours</option>\n                <option value=\"120\">2 hours</option>\n                <option value=\"150\">2.5 hours</option>\n                <option value=\"180\">3 hours</option>\n              </select>\n            </p>\n\n            <p>\n              <label className=\"label\" htmlFor=\"meetingSpeedy\">End 5 minutes early?</label>\n              <input className=\"checkbox\" type=\"checkbox\" id=\"meetingSpeedy\" name=\"meetingSpeedy\"\n                onChange={this.onSpeedyChange}\n              />\n            </p>\n\n            <p>\n              <label className=\"label\" htmlFor=\"meetingSlot\">Meeting start time: </label>\n              <select className=\"select\" name=\"meetingSlot\" id=\"meetingSlot\" \n                onChange={this.onSlotChange}\n              >\n                <option value=\"-1\">Loading ...</option>\n              </select>\n            </p>\n          </div>\n\n          <p>\n            <button className=\"button\" onClick={this.sendTestNotification}>\n              Test Notification\n            </button>\n            <button className=\"button\" onClick={this.clearScheduledNotifications}>\n              Clear Notifications\n            </button>\n          </p>\n\n          <p>\n            <span className=\"tinyText\" >\n              <a href=\"https://github.com/khilnani/timelymeetings.com\" target=\"_blank\" rel=\"noreferrer\">Github</a> | <a href=\"https://khilnani.org\" target=\"_blank\">Nik Khilnani</a>\n            </span>\n          </p>\n\n        </div>\n    );\n  }\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}